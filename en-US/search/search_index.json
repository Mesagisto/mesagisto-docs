{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"diagnose/","title":"Mesagisto-Diagnose","text":"<p>Um... I can't do this either!</p>"},{"location":"discord-message-source/","title":"Discord message source","text":"<p>** The function of Mesagisto is to forward messages to discord client **</p>"},{"location":"discord-message-source/#requirement","title":"Requirement","text":"<ul> <li>When registering Bot in discord developer portal, please go to the Bot page on the left and turn on presence intent, server members intent and message content intent under privileged gateway intentions</li> </ul>"},{"location":"discord-message-source/#deploy-","title":"Deploy-","text":"<ol> <li>Get the binary file (dms for short) on the Release Page</li> </ol> <p>Note</p> <p>File naming rules: dc---  Binary for Windows users, the executable file will have a colored suffix. The colored version of the file has the color code of the terminal, and there may be garbled code in PS (PowerShell).  It is recommended that Windows users with MinGW terminal download this version <ol> <li> <p>Ensure that the dms is in a network environment that can stably access the discord server (HTTP proxy may be required, see the configuration file section of this document for details)</p> </li> <li> <p>Run dms and automatically generate the default configuration file <code>config/dc.yml</code></p> </li> <li> <p>Edit configuration file <code>config/dc.yml</code> <pre><code># Change 'enable' to 'true' before use\nenable: true\n# Bot's key can be obtained from discord developer portal\ndiscord:\n  token: OTMxNTA1MTU0NjY1MDkxMTEz.YeFZxw.YzOVoAFsW3joO9VX5sTMhhGsoXo\n# Network proxy settings\nproxy:\n  # Enable agent\n  enabled: true\n  # Only HTTP proxy is allowed at this stage (request library limit)\n  address: \"http://127.0.0.1:7890\"\n# Intermediate forwarding server, message bridge\n# The default is mesagisto commonweal [Nats](https://github.com/nats-io/nats-server) Server\nnats:\n  address: \"nats://nats.mesagisto.org:4222\"\n# Encryption settings\ncipher:\n  # Key used for encryption\n  key: test\n\n# Stores the correspondence between mesagisto channel and DC text channel. It is empty by default Manual addition is not recommended\nbindings: {}\n</code></pre></p> </li> <li> <p>Start dms:   <pre><code># Give executable permission\n$ chmod +x ./tms\n# Run\n$ ./dms\n# To close dms, please use Ctrl + C, and do not close it smoothly\n$ ^C\n</code></pre></p> </li> <li> <p>Add your BOT to the DC server, create a discord text channel, and enter instructions in the text channel: <code>/help</code> You will get the help of instructions Use <code>/channel bind &lt;channel&gt;</code> to set the mesagisto channel</p> </li> </ol>"},{"location":"discord-message-source/#matters-needing-attention","title":"Matters needing attention","text":"<ol> <li>No matter what the value of channel is, as long as the channels bound by each forwarding client are the same</li> </ol>"},{"location":"mirai-message-source/","title":"Mirai Message source","text":"<p>** Mirai is used for the function implementation of Mesagisto, and the function is to forward messages to the client (Tencent QQ)**</p>"},{"location":"mirai-message-source/#requirement","title":"Requirement","text":"<ul> <li> <p>Mirai 2.12.0+, MCL 2.1.0+</p> </li> <li> <p>Front plugin ChatCommand</p> </li> <li> <p>For Windows, Microsoft Visual C + + 2010 redistributable needs to be installed. The number of bits of runtime should be consistent with JDK</p> </li> </ul> <p>Warning</p> <p>Mesagisto will automatically configure command permissions, please do not use permission command to operate Mesagisto permissions (because it will be reset every time you start)</p>"},{"location":"mirai-message-source/#installation","title":"Installation","text":"Manual installationsMCL auto install - stableMCL auto install - pre <p>Download the jar archive on the releases page. Move to the plugins folder in the same directory of Mirai console (MCL).</p> <p>Using the MCL command <code>./mcl --update-package org.mesagisto:mirai-message-source --channel stable --type plugin</code></p> <p>Use every time you start <code>./mcl -u</code> to update</p> <p>Using the MCL command <code>./mcl --update-package org.mesagisto:mirai-message-source --channel pre-release --type plugin</code></p> <p>Use every time you start <code>./mcl -u</code> to update</p> <p>Note: since the pre release version is only released on GitHub release, GH-Proxy is used</p> <p>However, access is still blocked in some regions. It is recommended to modify the MCL configuration file <code>config.json</code> Proxy options</p>"},{"location":"mirai-message-source/#simple-introduction","title":"Simple introduction","text":"<ol> <li> <p>Run MCL once and close it</p> </li> <li> <p>Find the configuration file config/org.mesagisto.mirai-message-source/config.yml and modify <pre><code># Intermediate forwarding server, message bridge.\n# The default is Mesagisto commonweal [NATs](https://github.com/nats-io/nats-server) Server\nnats:\n  address: 'nats://nats.mesagisto.org:4222'\n# Encryption settings\ncipher:\n  # Key used for encryption\n  key: your-key\n# Network agent, required for downloading telegram or discord pictures\n# Note that if TGBot / DCBot and MiraiBot are on the same host\n# Just set the agent of TGBot / DCBot\nproxy:\n  # Enable agent\n  enable: false\n  # Proxy server address\n  address: 'http://127.0.0.1:7890'\n# Experimental options\nperm: \n  # Strict mode, when enabled\n  # Mesagisto only responds to commands sent by users in the users list below\n  # When disabled, the Mesagisto will respond to the instructions sent by all users\n  # However, channel binding only allows administrators to operate\n  strict: false\n  # User list, QQ number\n  users: \n    - 123456\n# Stores the correspondence between Mesagisto channel and QQ group. It is empty by default Manual addition is not recommended\nbindings: {}\n</code></pre></p> </li> <li> <p>In ** QQ group chat ** (instead of Mirai console), you can execute the following command <code>/msgist</code> or <code>/\u4fe1\u4f7f</code>. You will get <pre><code>    The parameters do not match. Do you want to execute: \n    /msgist about    (insufficient parameters)\n    /msgist ban &lt;user&gt;    (insufficient parameters)\n    /msgist bind &lt;channel&gt;    (insufficient parameters)\n    /msgist disable &lt;group/channel&gt;    (insufficient parameters)\n    /msgist enable &lt;group/channel&gt;    (insufficient parameters)\n    /msgist status    (insufficient parameters)\n    /msgist unban &lt;user&gt;    (insufficient parameters)\n    /msgist unbind    (insufficient parameters)\n</code></pre></p> </li> <li>Use <code>/msgist bind channel</code>to bind to Mesagisto channel</li> </ol>"},{"location":"mirai-message-source/#matters-needing-attention","title":"Matters needing attention","text":"<ol> <li>The message source to be forwarded needs to be bound to the same ** channel name **</li> <li>The blacklist function needs to be in strict mode</li> </ol>"},{"location":"telegram-message-source/","title":"Telegram message source","text":"<p>** The function of Mesagisto is to forward messages to the telegram client **</p>"},{"location":"telegram-message-source/#requirement","title":"Requirement","text":"<ol> <li>Bot should set group privacy mode to off at botfather, otherwise your bot will not be able to access group chat messages</li> </ol>"},{"location":"telegram-message-source/#deploy","title":"Deploy","text":"<ol> <li>Get binary files on the Release Page  (hereinafter referred to as TMS)</li> </ol> <p>Note</p> <p>File naming rules: TG---  Binary for Windows users, the executable file will have a colored suffix. The colored version of the file has the color code of the terminal, and there may be garbled code in PS (PowerShell).  It is recommended that Windows users with MinGW terminal download this version <ol> <li> <p>Ensure that TMS can access the telegram server in a stable network environment (HTTP proxy may be required, see the configuration file section of this document for details)</p> </li> <li> <p>Run TMS and automatically generate the default configuration file <code>config/tg.yml</code></p> </li> <li> <p>Edit configuration file <code>config/tg.yml</code> <pre><code># Change 'enable' to 'true' before use.\nenable: true\n# Intermediate forwarding server, message bridge.\n# The default is Mesagisto commonweal [Nats](https://github.com/nats-io/nats-server) Server\nnats:\n  address: \"nats://nats.mesagisto.org:4222\"\n# Encryption settings\ncipher:\n  # Key used for encryption\n  key: test\ntelegram:\n  # Token key of TGBot, obtained from @botfather\n  token: \"114514191:IYokoiYoT4YfU_NA9NzhS5HS5oT-oJTrE\"\nproxy:\n  # Enable agent\n  enable: true\n  # Only HTTP proxy is allowed at this stage (reqwest library limit)\n  address: \"http://127.0.0.1:7890\"\n# Stores the correspondence between Mesagisto channel and TG group. It is empty by default Manual addition is not recommended.\nbindings: {}\n</code></pre></p> </li> <li> <p>Start TMS: <pre><code># Give executable permission\n$ chmod +x ./tms\n# Run\n$ ./tms\n# To turn off TMS, please use Ctrl + C. don't turn it off smoothly.\n$ ^C\n</code></pre> If there is no [error] output, you can send <code>/help</code> to the Bot, and you will get the following reply: <pre><code>Mesagisto BOT supports the following commands:\n\n/about \u2014 About this project\n/unbind \u2014 Unbind the forwarding address of the current group\n/help \u2014 Display command help\n/status \u2014 Display status\n/bind \u2014 Bind the forwarding address of the current group\n</code></pre></p> </li> <li> <p>Create a telegram group, add BOT to the group, and input instructions in the group: <code>/bind &lt;channel&gt;</code></p> </li> </ol>"},{"location":"telegram-message-source/#matters-needing-attention","title":"Matters needing attention","text":"<ol> <li>No matter what the value of channel is, as long as the channels bound by each forwarding client are the same</li> <li>After changing the group privacy mode halfway, please remove the BOT from the group and restart it</li> </ol>"},{"location":"minecraft-message-source/bukkit/","title":"Bukkit message source","text":"<p>** The function of Mesagisto is to forward messages to the minecraft[bukkit] client **</p>"},{"location":"minecraft-message-source/bukkit/#requirement","title":"Requirement","text":"<ul> <li>For windows, Microsoft Visual C++ 2010 Redistributable runtime needs to be installed. The number of bits of runtime should be consistent with JDK</li> </ul>"},{"location":"minecraft-message-source/bukkit/#installation","title":"Installation","text":"<ol> <li> <p>Download the jar archive on the Releases Page</p> </li> <li> <p>Move the jar package to the plugins folder of the bukkit server (such as spigot, paper, etc.)</p> </li> <li> <p>Start the server, and the configuration file will be automatically generated under the plugins folder</p> </li> <li> <p>Modify <code>plugins/mesagisto/config.yml</code> <pre><code># Enable mesagisto\nenable: true\n# Your mesagisto channel, regardless of the value of channel,\n# As long as the channel values of different forwarding clients are the same\nchannel: \"your-channel\"\n# Targetname of the server. Group chat/servers with the same target will not display messages from each other\n# This may be useful for those servers that have installed inter server message exchange\ntarget: \"target-name\"\n# Intermediate forwarding server, message bridge\n# The default is mesagisto commonweal [NATs](https://github.com/nats-io/nats-server) Server\nnats:\n  address: nats://nats.mesagisto.org:4222\n# Encryption settings\ncipher:\n  # The key used for encryption shall be the same at each end\n  key: \"your-key\"\n</code></pre></p> </li> <li> <p>Save the configuration file and restart the bukkit server</p> </li> </ol>"},{"location":"minecraft-message-source/bukkit/#matters-needing-attention","title":"Matters needing attention","text":"<ol> <li>Avoid using hot overload. If there is a problem, please restart manually first</li> <li>No matter what the value of channel is, as long as the channels bound by each forwarding client are the same</li> </ol>"},{"location":"minecraft-message-source/bungee/","title":"Bungee message source","text":"<p>** The function of Mesagisto is to forward messages to the minecraft [bungee] client \u5ba2\u6237\u7aef **</p>"},{"location":"minecraft-message-source/bungee/#requirement","title":"Requirement","text":"<ul> <li>For windows, Microsoft Visual C++ 2010 Redistributable runtime needs to be installed. The number of bits of runtime should be consistent with JDK</li> </ul>"},{"location":"minecraft-message-source/bungee/#installation","title":"Installation","text":"<ol> <li> <p>Download the jar archive on the Releases Page</p> </li> <li> <p>Move the jar package to the plugins folder of the bungeerecord server (such as waterfall velocity)</p> </li> <li> <p>Start the server, and the configuration file will be generated automatically</p> </li> <li> <p>Modify <code>plugins/mesagisto/config.yml</code> while ensuring** server shutdown **</p> </li> </ol> <p><pre><code># Enable mesagisto\nenable: true\n# Your mesagisto channel binding\n# It can be edited manually, but it is recommended to add through instructions\nbindings:\n  # Server name: mesagisto channel\n  sub1: \"test\"\n  sub2: \"test\"\n# Encryption settings\ncipher:\n  # The key used for encryption (it is required to ensure that the forwarding ends are the same)\n  key: \"default\"\n# Intermediate forwarding server, message bridge\n# The default is mesagisto commonweal [NATs](https://github.com/nats-io/nats-server) Server\nnats: \"nats://nats.mesagisto.org:4222\"\n# Message template\ntemplate:\n  message: \"\u00a77&lt;{{sender}}&gt; {{content}}\"\n</code></pre> 5. Save the configuration file and start the server.</p> <ol> <li>Use <code>/msgist help</code> to view help in the sub server where mesagisto needs to be set, and use <code>/msgist [channel name]</code> to bind mesagisto channel</li> </ol>"},{"location":"minecraft-message-source/bungee/#matters-needing-attention","title":"Matters needing attention","text":"<ol> <li>The message source to be forwarded needs to be bound to the same** channel name **</li> <li>Permission management: the permission node of this plug-in is <code>mesagisto</code>. If you want to use the mesagisto command, you need to grant this permission</li> </ol> Do not use the rights management plug-inLuckPerms <p>Modify the bungee configuration file config.yml to <pre><code>permissions:\n  admin:\n  - some-other-perm\n  - mesagisto\n......\ngroups:\n  playername:\n  - default\n  - admin\n</code></pre></p> <p>Execute the command in the server console that owns luckperms <pre><code>lpb user PlayerName permission set mesagisto\n</code></pre></p>"},{"location":"minecraft-message-source/fabric/","title":"Fabric\u6d88\u606f\u6e90","text":"<p>Mesagisto\u4fe1\u4f7f\u9879\u76ee\u7684\u4e00\u90e8\u5206\uff0c\u6d88\u606f\u8f6c\u53d1\u5ba2\u6237\u7aef\u7684fabric(Minecraft)\u5b9e\u73b0\u3002</p>"},{"location":"minecraft-message-source/fabric/#_1","title":"\u5b89\u88c5","text":"<ol> <li> <p>\u5728Releases\u9875\u9762   \u4e0b\u8f7d\u76f8\u5e94OS\u53caCPU\u67b6\u6784\u7684jar\u5f52\u6863\u6587\u4ef6\u3002</p> <p>\u6587\u4ef6\u547d\u540d\u89c4\u5219\uff1afabric--&lt;\u67b6\u6784&gt;-&lt;\u64cd\u4f5c\u7cfb\u7edf&gt;.jar <li> <p>\u5c06jar\u5305\u79fb\u52a8\u81f3fabric\u670d\u52a1\u7aef\u7684mods\u6587\u4ef6\u5939\u4e0b\u3002</p> </li> <li> <p>\u542f\u52a8\u670d\u52a1\u5668,\u6b64\u65f6\u4f1a\u81ea\u52a8\u751f\u6210\u914d\u7f6e\u6587\u4ef6, \u5173\u95ed\u670d\u52a1\u5668\u3002</p> </li> <li> <p>\u4fee\u6539mods/mesagisto/config.yml\uff0c   \u53c2\u8003   <pre><code># \u662f\u5426\u542f\u7528\u4fe1\u4f7f\nenable: true\n# \u60a8\u7684\u4fe1\u4f7f\u9891\u9053, \u65e0\u8bbachannel\u7684\u503c\u5982\u4f55\uff0c\n# \u53ea\u8981\u4fdd\u8bc1\u4e0d\u540c\u8f6c\u53d1\u5ba2\u6237\u7aefchannel\u7684\u503c\u76f8\u540c\u5373\u53ef\nchannel: test\nid-base: 0\n# \u4e2d\u95f4\u8f6c\u53d1\u670d\u52a1\u5668,\u6d88\u606f\u7684\u6865\u6881.\n# \u9ed8\u8ba4\u4e3a\u6211\u4e2a\u4eba\u63d0\u4f9b\u7684[NATS](https://github.com/nats-io/nats-server)\u670d\u52a1\u5668\nnats:\n  address: nats://itsusinn.site:4222\n# \u52a0\u5bc6\u8bbe\u7f6e\ncipher:\n  # \u52a0\u5bc6\u7528\u4f7f\u7528\u7684\u5bc6\u94a5 \u9700\u4fdd\u8bc1\u5404\u7aef\u76f8\u540c\n  key: my-key\n</code></pre></p> </li> <li> <p>\u542f\u52a8fabric\u670d\u52a1\u7aef\u3002</p> </li>"},{"location":"minecraft-message-source/fabric/#_2","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u9700\u8981\u524d\u7f6e\u4f9d\u8d56 Fabric-API \u4efb\u610f\u7248\u672c</li> <li>\u5bf9\u4e8eWindows, \u9700\u8981\u5b89\u88c5 Microsoft Visual C++ 2010 Redistributable\u8fd0\u884c\u65f6</li> </ol>"},{"location":"minecraft-message-source/forge/","title":"Forge\u6d88\u606f\u6e90","text":"<p>Mesagisto\u4fe1\u4f7f\u9879\u76ee\u7684\u4e00\u90e8\u5206\uff0c\u6d88\u606f\u8f6c\u53d1\u5ba2\u6237\u7aef\u7684forge(Minecraft)\u5b9e\u73b0\u3002</p>"},{"location":"minecraft-message-source/forge/#_1","title":"\u5b89\u88c5","text":"<ol> <li> <p>\u5728Releases\u9875\u9762   \u4e0b\u8f7d\u76f8\u5e94OS\u53caCPU\u67b6\u6784\u7684jar\u5f52\u6863\u6587\u4ef6\u3002</p> <p>\u6587\u4ef6\u547d\u540d\u89c4\u5219\uff1aforge--&lt;\u67b6\u6784&gt;-&lt;\u64cd\u4f5c\u7cfb\u7edf&gt;.jar <li> <p>\u5c06jar\u5305\u79fb\u52a8\u81f3forge\u670d\u52a1\u7aef\u7684mods\u6587\u4ef6\u5939\u4e0b\u3002</p> </li> <li> <p>\u542f\u52a8\u670d\u52a1\u5668,\u6b64\u65f6\u4f1a\u81ea\u52a8\u751f\u6210\u914d\u7f6e\u6587\u4ef6, \u5173\u95ed\u670d\u52a1\u5668\u3002</p> </li> <li> <p>\u4fee\u6539mods/mesagisto/config.yml\uff0c   \u53c2\u8003   <pre><code># \u662f\u5426\u542f\u7528\u4fe1\u4f7f\nenable: true\n# \u60a8\u7684\u4fe1\u4f7f\u9891\u9053, \u65e0\u8bbachannel\u7684\u503c\u5982\u4f55\uff0c\n# \u53ea\u8981\u4fdd\u8bc1\u4e0d\u540c\u8f6c\u53d1\u5ba2\u6237\u7aefchannel\u7684\u503c\u76f8\u540c\u5373\u53ef\nchannel: test\nid-base: 0\n# \u4e2d\u95f4\u8f6c\u53d1\u670d\u52a1\u5668,\u6d88\u606f\u7684\u6865\u6881.\n# \u9ed8\u8ba4\u4e3a\u6211\u4e2a\u4eba\u63d0\u4f9b\u7684[NATS](https://github.com/nats-io/nats-server)\u670d\u52a1\u5668\nnats:\n  address: nats://itsusinn.site:4222\n# \u52a0\u5bc6\u8bbe\u7f6e\ncipher:\n  # \u52a0\u5bc6\u7528\u4f7f\u7528\u7684\u5bc6\u94a5 \u9700\u4fdd\u8bc1\u5404\u7aef\u76f8\u540c\n  key: my-key\n</code></pre></p> </li> <li> <p>\u542f\u52a8forge\u670d\u52a1\u7aef\u3002</p> </li>"},{"location":"minecraft-message-source/forge/#_2","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u5bf9\u4e8eWindows, \u9700\u8981\u5b89\u88c5 Microsoft Visual C++ 2010 Redistributable\u8fd0\u884c\u65f6</li> </ol>"},{"location":"minecraft-message-source/mcmod/","title":"MCMod message source","text":"<p>** The function of Mesagisto is to forward messages to the minecraft[Mod] client **</p>"},{"location":"minecraft-message-source/mcmod/#requirement","title":"Requirement","text":"Fabric 1.16-1.19Forge1.18 <ul> <li>For windows, Microsoft Visual C++ 2010 Redistributable runtime needs to be installed. The number of bits of runtime should be consistent with JDK</li> <li>Pre dependent Fabric-API (any version)</li> </ul> <ul> <li>For windows, Microsoft Visual C++ 2010 Redistributable runtime needs to be installed. The number of bits of runtime should be consistent with JDK</li> </ul>"},{"location":"minecraft-message-source/mcmod/#installation","title":"Installation","text":"<ol> <li>Download the jar archive on the Releases Page</li> <li>Move the jar to the mods folder on the fabric/forge server</li> <li>Start the server, and the configuration file will be generated automatically</li> <li>Modify <code>mods/mesagisto/config.yml</code> <pre><code># Enable mesagisto\nenable: true\n# Your mesagisto channel, regardless of the value of channel,\n# As long as the channel values of different forwarding clients are the same\nchannel: \"your-channel\"\n# Targetname of the server. Group chat/servers with the same target will not display messages from each other\n# This may be useful for those servers that have installed inter server message exchange\ntarget: \"target-name\"\n# Intermediate forwarding server, message bridge\n# The default is mesagisto commonweal [NATs](https://github.com/nats-io/nats-server) Server\nnats:\n  address: nats://nats.mesagisto.org:4222\n# Encryption settings\ncipher:\n  # The key used for encryption shall be the same at each end\n  key: default-key\n</code></pre></li> <li>Restart the fabric/forge server.</li> </ol>"},{"location":"minecraft-message-source/mcmod/#matters-needing-attention","title":"Matters needing attention","text":"<ol> <li>No matter what the value of channel is, as long as the channels bound by each forwarding client are the same</li> </ol>"}]}